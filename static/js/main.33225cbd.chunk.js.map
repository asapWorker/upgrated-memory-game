{"version":3,"sources":["constants.js","store/gameSlice.js","functions.js","store/assistantSlice.js","components/menu/Menu.jsx","components/item/Item.jsx","components/board/Board.jsx","components/wrapper/Wrapper.jsx","components/game/Game.jsx","App.jsx","store/index.js","index.js"],"names":["PATH","process","EASY","MIDDLE","HARD","LOADING","LOADED","PAUSE_END","COUNTDOWN","COUNTDOWN_END","ACTIVITY","READY","FINISH","COUNTDOWN_DELAY","COUNTDOWN_NUM","UNMARKED","CORRECT","WRONG","VISIBLE","INVISIBLE","LIST_LEN","_LIST_LEN","Object","defineProperty","SIMILAR_NUM","_SIMILAR_NUM","SHOW_MENU","START_GAME","FINISH_GAME","RESTART_GAME","PERMIT_CHOOSING","DENY_FINISHING","CHOOSE_ITEM","NO_ITEM","assistant","ref","gameSlice","createSlice","name","initialState","level","gameId","step","prevStep","undefined","reducers","startGame","state","action","payload","Date","now","restartGame","finishLoading","makePause","finishPause","makeCountdown","finishCountdown","startActivity","setReady","finishGame","setInitResult","result","changeResult","_gameSlice$actions","actions","getPercentageResult","Math","round","random","start","end","floor","generateList","_step","listLength","sameNum","generateSameItemsNum","repeatedItem","list","Array","fill","_iterator","_createForOfIteratorHelper","randomSeveral","s","n","done","value","err","e","f","similarIndexes","similarInd","similarItem","otherItem","SIMILAR_IMG_END","i","includes","repeatedItemNum","num","Set","generatedNum","has","add","from","getDifferentElemsNumOfTwoArrays","arr1","arr2","length","len","min","notSameElemsNum","max","considerRowsColsCount","itemsNum","screenOrientation","cols","rows","_ref2","_remoteControllerDeco","window","screen","orientation","type","btnList","enabledBtnList","currentElem","currentElemAmongEnabled","disabledFocusedElem","boardBtnNum","moveHandler","event","code","getNextVerticalElem","getNextHorizonElem","focus","removeFocusFromDisabledBtn","classList","remove","splice","indexOf","direction","nextElemAmongEnabled","nextElem","_btnList2","lastIsDisabled","arguments","boardItemsNum","blur","_btnList","_considerRowsColsCoun","_considerRowsColsCoun2","slicedToArray","push","apply","toConsumableArray","document","querySelectorAll","pop","map","_","index","addEventListener","btnInd","focused","onchange","currentScreenOrientation","_ref","remoteControllerDecorator","_remoteControllerDeco2","setRemoteControllerConfig","addLastBtnInEnabledBtnList","checkBoardBtn","orientationChangeHandler","assistantSlice","clientAssistant","data","changeAssistantData","Menu","props","dispatch","useDispatch","assistantData","useSelector","btnEasy","useRef","btnMiddle","btnHard","startGameHandler","sendData","action_id","current","disabled","changeAppScreen","startGameBtnClickHandler","useEffect","console","log","react_default","a","createElement","className","onClick","Item","_useState","useState","_useState2","itemMark","setItemMark","game","gameStep","prevGameStep","Number","imgInd","itemChoosingHandler","imgName","tabIndex","onLoad","imageIsLoaded","isRepeated","Board","itemsList","setItemsList","_useState3","_useState4","unloadedItemsNum","setUnloadedItemsNum","listObj","item","Item_Item","key","decreaseUnloadedImagesNum","concat","prev","wrapperTimerId","Wrapper","_useSelector","countdownStep","setCountdownStep","clearTimeout","setTimeout","title","src","Fragment","_regeneratorRuntime","exports","Op","prototype","hasOwn","hasOwnProperty","obj","desc","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","call","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","record","__await","then","unwrapped","error","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","constructor","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","reverse","skipTempReset","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","gameTimerId","pause","asyncToGenerator","_callee","_context","_x","Game","restartBtn","menuBtn","resultBtn","restartHandler","menuHandler","resultHandler","Wrapper_Wrapper","Board_Board","initializeAssistant","getState","createAssistant","App","isMenuScreen","setIsMenuScreen","on","Menu_Menu","Game_Game","store","configureStore","reducer","gameReducer","assistantReducer","root","getElementById","ReactDOM","render","es","src_App"],"mappings":"yTAIaA,EAAOC,gCAGPC,EAAO,OACPC,EAAS,SACTC,EAAO,OAGPC,EAAU,UACVC,EAAS,SAETC,EAAY,YACZC,EAAY,YACZC,EAAgB,gBAChBC,EAAW,WACXC,EAAQ,QACRC,EAAS,SAITC,EAAkB,KAClBC,EAAgB,EAGhBC,EAAW,WACXC,EAAU,UACVC,EAAQ,QAGRC,EAAU,UACVC,EAAY,YAMZC,GAAQC,EAAA,GAAAC,OAAAC,EAAA,EAAAD,CAAAD,EAClBnB,EAAO,IAAEoB,OAAAC,EAAA,EAAAD,CAAAD,EACTlB,EAAS,IAAEmB,OAAAC,EAAA,EAAAD,CAAAD,EACXjB,EAAO,IAAEiB,GAQCG,GAAWC,EAAA,GAAAH,OAAAC,EAAA,EAAAD,CAAAG,EACrBvB,EAAO,GAACoB,OAAAC,EAAA,EAAAD,CAAAG,EACRtB,EAAS,GAACmB,OAAAC,EAAA,EAAAD,CAAAG,EACVrB,EAAO,GAACqB,GAQEC,EAAY,YACZC,EAAa,aACbC,EAAc,cACdC,EAAe,eACfC,EAAkB,kBAClBC,EAAiB,iBACjBC,EAAc,cACdC,EAAU,UAIVC,EAAY,CAACC,IAAK,MC3DzBC,EAAYC,YAAY,CAC5BC,KAAM,OAENC,aAAc,CACZC,MAAO,KACPC,OAAQ,KACRC,KAAMrC,EAENsC,cAAUC,GAGZC,SAAU,CACRC,UAAS,SAACC,EAAOC,GACfD,EAAMP,MAAQQ,EAAOC,QACrBF,EAAMN,OAASS,KAAKC,MACpBJ,EAAML,KAAOrC,EAEb0C,EAAMJ,cAAWC,GAGnBQ,YAAW,SAACL,GACVA,EAAMN,OAASS,KAAKC,MACpBJ,EAAML,KAAOrC,EAEb0C,EAAMJ,cAAWC,GAGnBS,cAAa,SAACN,GACZA,EAAML,KAAOpC,GAGfgD,UAAS,SAACP,GACRA,EAAMJ,SAAWI,EAAML,KACvBK,EAAML,KDjCS,SCoCjBa,YAAW,SAACR,GACVA,EAAML,KAAOnC,GAGfiD,cAAa,SAACT,GACZA,EAAMJ,SAAWI,EAAML,KACvBK,EAAML,KAAOlC,GAGfiD,gBAAe,SAACV,GACdA,EAAML,KAAOjC,GAGfiD,cAAa,SAACX,GACZA,EAAMJ,SAAWI,EAAML,KACvBK,EAAML,KAAOhC,GAGfiD,SAAQ,SAACZ,GACPA,EAAML,KAAO/B,GAGfiD,WAAU,SAACb,GACTA,EAAML,KAAO9B,GAGfiD,cAAa,SAACd,EAAOC,GACnBD,EAAMe,OAASd,EAAOC,SAGxBc,aAAY,SAAChB,EAAOC,GACdA,EAAOC,UAAYjC,EACrB+B,EAAMe,QAAU,EAEhBf,EAAMe,QAAU,MAMT1B,IAAiB,QAAC4B,EAC+I5B,EAAU6B,QAA5KnB,EAASkB,EAATlB,UAAWM,EAAWY,EAAXZ,YAAaC,EAAaW,EAAbX,cAAeC,EAASU,EAATV,UAAWC,EAAWS,EAAXT,YAAaC,EAAaQ,EAAbR,cAAcC,EAAeO,EAAfP,gBAAiBC,EAAaM,EAAbN,cAAeC,GAAQK,EAARL,SAAUC,GAAUI,EAAVJ,WAAYC,GAAaG,EAAbH,cAAeE,GAAYC,EAAZD,gjCChFzJ,IAAMG,GAAsB,SAASJ,EAAQtB,GAGlD,OAFyB2B,KAAKC,MAAMN,EAAS1C,EAASoB,GAAS,MAKpD6B,GAAS,SAAUC,EAAOC,GACrC,OAAOJ,KAAKK,MAAML,KAAKE,UAAYE,EAAMD,EAAQ,IAAMA,GAO5CG,GAAe,SAASjC,GACnC,IAQ2BkC,EARrBC,EAAavD,EAASoB,GACtBoC,EAAUC,GAAqBrC,GAE/BsC,EAAeT,GFkBU,EACF,IEjBvBU,EAAO,IAAIC,MAAML,GAAYM,KAAK,MACsBC,EAAAC,GAA1CC,GAAc,EAAGT,EAAa,EAAGC,IAE1B,IAA3B,IAAAM,EAAAG,MAAAX,EAAAQ,EAAAI,KAAAC,MAA6B,CAC3BR,EADUL,EAAAc,OACEV,GACb,MAAAW,GAAAP,EAAAQ,EAAAD,GAAA,QAAAP,EAAAS,IAOD,IALA,IAAMC,EAAiBR,GAAc,EAAGT,EAAaC,EAAU,EAAGpD,EAAYgB,IAE1EqD,EAAa,EACbC,EAAchB,EACdiB,EAAYC,GACPC,EAAI,EAAGA,EAAItB,EAAYsB,IACzBlB,EAAKkB,KACJL,EAAeM,SAASL,KAC1BC,GAAe,GFEQ,KEDYA,EAAc,GAEjDf,EAAKkB,GAAKH,IAEVf,EAAKkB,GAAKF,GAEVA,GAAa,GFhBE,KEiBUA,EAAYC,KAGvCH,KAGJ,MAAO,CACLd,OACAD,eACAqB,gBAAiBvB,IAIfQ,GAAgB,SAAUd,EAAOC,EAAK6B,GAG1C,IAFA,IAAIH,EAAI,EACFnC,EAAS,IAAIuC,IACZJ,EAAIG,GAAK,CACd,IAAME,EAAejC,GAAOC,EAAOC,GAC9BT,EAAOyC,IAAID,KACdxC,EAAO0C,IAAIF,GACXL,KAGJ,OAAOjB,MAAMyB,KAAK3C,IAIde,GAAuB,SAASrC,GACpC,OAAIA,IAAUtC,EACLmE,GAAO,EAAG,GACR7B,IAAUrC,EACZkE,GAAO,EAAG,GAEVA,GAAO,EAAG,IAIRqC,GAAkC,SAAUC,EAAMC,GAC7D,GAAKD,EAAKE,OACL,IAAKD,EAAKC,OACV,CAIH,IAHA,IAAMC,EAAM3C,KAAK4C,IAAIJ,EAAKE,OAAQD,EAAKC,QACnCG,EAAkB7C,KAAK8C,IAAIN,EAAKE,OAAQD,EAAKC,QAAUC,EAElDb,EAAI,EAAGA,EAAIa,EAAKb,IACnBU,EAAKV,KAAOW,EAAKX,IAAIe,IAG3B,OAAOA,EATc,OAAOL,EAAKE,OADjB,OAAOD,EAAKC,QAoK1BK,GAAwB,SAAUC,EAAUC,GAChD,IAAIC,EAAO,EACPC,EAAO,EAUX,GARIH,IAAa/F,EAASlB,IACxBmH,EAAO,EACPC,EAAO,IAEPD,EAAO,EACPC,EAAO,GF/Ma,qBEkNlBF,EAAgC,KAAAG,EACnB,CAACF,EAAMC,GAArBA,EAAIC,EAAA,GAAEF,EAAIE,EAAA,GAGb,MAAO,CAACD,EAAMD,IACfG,GAnKiC,WAChC,IAAIJ,EAAoBK,OAAOC,OAAOC,YAAYC,KAE9CC,EAAU,GACVC,EAAiB,GACjBC,GAAe,EACfC,GAA2B,EAC3BC,EAAsB,KAEtBC,EAAc,EACdZ,OAAO1E,EACPyE,OAAOzE,EAsDLuF,EAAc,SAASC,GAE3B,IAAqB,IAAjBL,EACFA,EAAc,EACdC,EAA0B,OAE1B,OAAQI,EAAMC,MACZ,IAAK,YACHC,EAAoB,GACpB,MACF,IAAK,UACHA,GAAqB,GACrB,MACF,IAAK,YACHC,GAAoB,GACpB,MACF,IAAK,aACHA,EAAmB,GAOpBV,EAAQI,IAAsBJ,EAAQE,GAAaS,SAG1D,SAASC,IACPZ,EAAQI,GAAqBS,UAAUC,OAAO,kBAC9Cb,EAAec,OAAOd,EAAee,QAAQZ,GAAsB,GAEnED,EAA0BF,EAAee,QAAQd,GAEjDE,EAAsB,KAGxB,IAAMM,EAAqB,SAASO,GAClC,IAAIC,EAAuBf,EAA0Bc,EAEjDC,EAAuB,IAEhBA,GAAwBjB,EAAejB,SAChDkC,EAAuB,GAIzBhB,EAAcD,EADdE,EAA0Be,GAGtBlB,EAAQI,IAAsBQ,MAG9BH,EAAsB,SAASQ,GACnC,GAAKZ,EAGE,GAAIH,GAAeG,EACxBK,EAAmBO,OADd,CAKP,IAAIE,EAAWjB,EAEf,GACEiB,GAAY3B,EAAOyB,QACXE,GAAY,GAAKA,EAAWd,IAAiBJ,EAAe5B,SAAS8C,IAE3EA,GAAYd,GACdH,EAAcG,EACdF,EAA0BF,EAAee,QAAQd,IACxCiB,GAAY,GAAKA,IAAajB,IACvCA,EAAciB,EACdhB,EAA0BF,EAAee,QAAQd,IAG/CF,EAAQI,IAAsBQ,SArBhCF,EAAmBO,IAwBvB,MAAO,CAtH2B,WAAoD,IAAAG,EAA3CC,EAAcC,UAAAtC,OAAA,QAAAjE,IAAAuG,UAAA,IAAAA,UAAA,GAAUC,EAAaD,UAAAtC,OAAA,QAAAjE,IAAAuG,UAAA,GAAAA,UAAA,GAAG,EAOjF,GANIpB,GAAe,GAAKF,EAAQE,IAC9BF,EAAQE,GAAasB,OAGvBpB,EAAsB,KACtBJ,EAAU,GACNuB,EAAe,KAAAE,EAAAC,EACFrC,GAAsBkC,EAAehC,GAAkBoC,EAAAlI,OAAAmI,EAAA,EAAAnI,CAAAiI,EAAA,GAArEjC,EAAIkC,EAAA,GAAEnC,EAAImC,EAAA,IAEXF,EAAAzB,GAAQ6B,KAAIC,MAAAL,EAAAhI,OAAAsI,GAAA,EAAAtI,CAAIuI,SAASC,iBAAiB,cAG5C5B,EAAckB,GACdH,EAAApB,GAAQ6B,KAAIC,MAAAV,EAAA3H,OAAAsI,GAAA,EAAAtI,CAAIuI,SAASC,iBAAiB,mBAE1C/B,GAAe,EACfC,GAA2B,EAE3BF,EAAiB,IAAI9C,MAAM6C,EAAQhB,QAAQ5B,KAAK,GAC5CiE,GAAgBpB,EAAeiC,MACnCjC,EAAiBA,EAAekC,IAAI,SAACC,EAAGC,GAAK,OAAKA,IAElDL,SAASM,iBAAiB,UAAWhC,IAGJ,WACjCL,EAAe4B,KAAK7B,EAAQhB,OAAS,IAGjB,SAASuD,GACzBrC,GAAe,GAAKF,EAAQE,GAAasC,SAASxC,EAAQE,GAAasB,OACvExB,EAAQI,IAAsBQ,IAElCV,EAAcqC,EACdpC,EAA0BF,EAAee,QAAQuB,GAGjDvC,EADAI,EAAsBmC,GACO1B,UAAUlC,IAAI,mBAhDZ,WAC/BiB,OAAOC,OAAOC,YAAY2C,SAAW,WACnC,IAAMC,EAA2B9C,OAAOC,OAAOC,YAAYC,KAC3D,GAAIN,GAAQiD,IAA6BnD,EAAmB,KAAAoD,EAC3C,CAACnD,EAAMC,GAArBA,EAAIkD,EAAA,GAAEnD,EAAImD,EAAA,OAmJ6FC,GAA2BC,GAAApJ,OAAAmI,EAAA,EAAAnI,CAAAkG,GAAA,GAA7HmD,GAAyBD,GAAA,GAAEE,GAA0BF,GAAA,GAAEG,GAAaH,GAAA,GAAEI,GAAwBJ,GAAA,GCjRtGK,GAAiB1I,YAAY,CACjCC,KAAM,YACNC,aAAc,CACZyI,gBAAiB,KACjBC,KAAM,CACJrD,KAAM,OACN3E,QAAS,OAGbJ,SAAU,CACRqI,oBAAmB,SAACnI,EAAOC,GACzBD,EAAMkI,KAAOjI,EAAOC,YAKX8H,MAAsB,QACvBG,GAAuBH,GAAe9G,QAAtCiH,oBCXP,SAASC,GAAKC,GACnB,IAAMC,EAAWC,cAEXC,EAAgBC,YAAY,SAAAzI,GAAK,OAAIA,EAAMb,UAAU+I,OAErDQ,EAAUC,mBACVC,EAAYD,mBACZE,EAAUF,mBAchB,SAASG,EAAiBrJ,GACxBN,EAAUC,IAAI2J,SAAS,CAAE9I,OAAQ,CAAE+I,UAAWpK,KAC9C8J,EAAQO,QAAQC,SAAWN,EAAUK,QAAQC,SAAWL,EAAQI,QAAQC,UAAW,EACnFb,EAAMc,kBACNb,EAASvI,EAAUN,IAGrB,SAAS2J,EAAyB3J,GAChC6I,EAASH,GAAoBvJ,IAC7BkK,EAAiBrJ,GAGnB,OAxBA4J,oBAAU,WAERzB,MACC,IAEHyB,oBAAU,WACJb,EAAc3D,OAASjG,IACzB0K,QAAQC,IAAI,sBACZT,EAAiBN,EAActI,WAEhC,CAACsI,IAeFgB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,UAAQtK,IAAKsJ,EAASiB,UAAU,4BAA4BC,QAAS,kBAAMR,EAAyBjM,KAAM,mFAC1GqM,EAAAC,EAAAC,cAAA,UAAQtK,IAAKwJ,EAAWe,UAAU,4BAA4BC,QAAS,kBAAMR,EAAyBhM,KAAQ,yFAC9GoM,EAAAC,EAAAC,cAAA,UAAQtK,IAAKyJ,EAASc,UAAU,4BAA4BC,QAAS,kBAAMR,EAAyB/L,KAAM,yHC9BzG,SAASwM,GAAKxB,GAAO,IAAAyB,EACMC,mBAAS/L,GAASgM,EAAAzL,OAAAmI,EAAA,EAAAnI,CAAAuL,EAAA,GAA3CG,EAAQD,EAAA,GAAEE,EAAWF,EAAA,GAEtBvK,EAAQgJ,YAAY,SAAAzI,GAAK,OAAIA,EAAMmK,KAAK1K,QACxC2K,EAAW3B,YAAY,SAAAzI,GAAK,OAAIA,EAAMmK,KAAKxK,OAC3C0K,EAAe5B,YAAY,SAAAzI,GAAK,OAAIA,EAAMmK,KAAKvK,WAE/C4I,EAAgBC,YAAY,SAAAzI,GAAK,OAAIA,EAAMb,UAAU+I,OAErDI,EAAWC,cA6BjB,OA3BAc,oBAAU,WACRa,EAAYlM,IACX,CAACqK,IAEJgB,oBAAU,WACJY,IAAajM,IACfsK,EAAStH,GAAaiJ,IAClBG,IAAazM,GACf2K,EAAU1H,QAGb,CAACqJ,IAEJZ,oBAAU,WACJb,EAAc3D,OAAS5F,IACbqL,OAAO9B,EAActI,WACrBmI,EAAMkC,SACZN,IAAajM,EACfwM,IAGArL,EAAUC,IAAI2J,SAAS,CAAC9I,OAAQ,CAAC+I,UAAW9J,QAIjD,CAACsJ,IAGFgB,EAAAC,EAAAC,cAAA,OAAKC,UAAW,cAAgBlK,EAAQ,IAAMwK,IAC1CG,IAAa9M,GAAW8M,IAAa7M,GAAW6M,IAAa3M,GAAa4M,IAAiB9M,IAAYiM,EAAAC,EAAAC,cAAA,OAAKC,UAAW,gBAEvHS,IAAavM,GAAUoM,IAAajM,GAAawL,EAAAC,EAAAC,cAAA,OAAKC,UAAW,2BAA6BM,KAG7FG,IAAazM,GAAYyM,IAAaxM,IACvC4L,EAAAC,EAAAC,cAAA,UACER,SAAWe,IAAajM,EACxB2L,UAAW,cACXC,QAASY,GAERnC,EAAMkC,QAIRlC,EAAMoC,QAAkBjB,EAAAC,EAAAC,cAAA,UACzBgB,UAAW,EACX7F,KAAK,gBACLqD,KAAMjL,EAAOoL,EAAMoC,QAAU,OAC7Bd,UAAU,MACVgB,OAAQtC,EAAMuC,eAAc,mBALV,MAaxB,SAASJ,IACPrL,EAAUC,IAAI2J,SAAS,CAAC9I,OAAQ,CAAC+I,UAAW/J,KAExCoJ,EAAMwC,WACRX,EAAYjM,GAEZiM,EAAYhM,GAGd4J,GAAcO,EAAMkC,OAAS,ICpF1B,SAASO,KACd,IAAMrL,EAAQgJ,YAAY,SAAAzI,GAAK,OAAIA,EAAMmK,KAAK1K,QACxCC,EAAS+I,YAAY,SAAAzI,GAAK,OAAIA,EAAMmK,KAAKzK,SAAQoK,EAErBC,mBAAS,IAAI9H,MAAM5D,EAASoB,IAAQyC,KAAK,OAAM8H,EAAAzL,OAAAmI,EAAA,EAAAnI,CAAAuL,EAAA,GAA1EiB,EAASf,EAAA,GAAEgB,EAAYhB,EAAA,GAAAiB,EACkBlB,oBAAU,GAAEmB,EAAA3M,OAAAmI,EAAA,EAAAnI,CAAA0M,EAAA,GAArDE,EAAgBD,EAAA,GAAEE,EAAmBF,EAAA,GAEtClJ,EAAO2G,iBAAO,IAEdL,EAAWC,cAgCjB,OA9BAc,oBAAU,WACR,IAAMgC,EAAU3J,GAAajC,GAE7B2L,EAAoBzH,GAAgC3B,EAAKiH,QAASoC,EAAQrJ,OAC1EA,EAAKiH,QAAUoC,EAAQrJ,KAEvBgJ,EAAaK,EAAQrJ,KAAKiF,IAAI,SAACqE,EAAMnE,GACnC,OACEqC,EAAAC,EAAAC,cAAC6B,GAAI,CACHC,IAAKrE,EACLsD,QAASa,EACTf,OAAQpD,EAAQ,EAChB0D,WAAYS,IAASD,EAAQtJ,aAC7B6I,cAAea,OAMrBnD,EAASxH,GAAczC,EAASoB,GAAS4L,EAAQjI,mBAEhD,CAAC1D,IAEJ2J,oBAAU,WACH8B,GACH7C,EAAShI,MAEV,CAAC6K,IAIF3B,EAAAC,EAAAC,cAAA,OAAKC,UAAS,eAAA+B,OAAiBjM,IAC5BsL,GAIL,SAASU,IACPL,EAAoB,SAAAO,GAAI,OAAIA,EAAO,eCvCnCC,GAAiB,KAEd,SAASC,KAAU,IAAAC,EACwBrD,YAAY,SAAAzI,GAAK,OAAIA,EAAMmK,OAApE1K,EAAKqM,EAALrM,MAAa2K,EAAQ0B,EAAdnM,KAAgBoB,EAAM+K,EAAN/K,OAAQrB,EAAMoM,EAANpM,OAChC4I,EAAWC,cAAcuB,EAEWC,oBAAU,GAAEC,EAAAzL,OAAAmI,EAAA,EAAAnI,CAAAuL,EAAA,GAA/CiC,EAAa/B,EAAA,GAAEgC,EAAgBhC,EAAA,GAwBtC,OAtBAX,oBAAU,WACR,OAAO,WACDuC,IAAgBK,aAAaL,IACjCI,GAAkB,KAEnB,CAACtM,IAEJ2J,oBAAU,WACJe,IAAa7M,GAAU6M,IAAa5M,IACtC8K,EAAS7H,KACTuL,EAAiBjO,KAElB,CAACqM,IAEJf,oBAAU,WACJ0C,EAAgB,EAqCpBH,GAAiBM,WAAW,WAC1BF,EAAiB,SAAAL,GAAI,OAAIA,EAAO,KAC/B7N,GArC0B,IAAlBiO,GACTzD,EAAS5H,MAEV,CAACqL,IAGFvC,EAAAC,EAAAC,cAAA,OAAKC,UAAW,YAMZ,CAACrM,EAASC,EAAQE,EAAWC,EAAeG,GAAQsF,SAASiH,GACxDjM,EAEAC,IARPoL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAabS,IAAa9M,GAAW8M,IAAa7M,EAChCiM,EAAAC,EAAAC,cAAA,UAAQyC,MAAM,UAAUC,IAAKlP,uCAC3BkN,IAAa3M,GAAa2M,IAAa1M,EACzC8L,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAiC,IAAnBoC,EAAwB,EAAIA,GACxD3B,IAAavM,EACf2L,EAAAC,EAAAC,cAAAF,EAAAC,EAAA4C,SAAA,KACL7C,EAAAC,EAAAC,cAAA,QAAMC,UAAU,gBAAc,0DAC9BH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,UAAQ,GAAA+B,OAAKvK,GAAoBJ,EAAQtB,GAAM,OAG1D,qBCvEb6M,GAAA,kBAAAC,GAAA,IAAAA,EAAA,GAAAC,EAAAjO,OAAAkO,UAAAC,EAAAF,EAAAG,eAAAnO,EAAAD,OAAAC,gBAAA,SAAAoO,EAAApB,EAAAqB,GAAAD,EAAApB,GAAAqB,EAAApK,OAAAqK,EAAA,mBAAAC,cAAA,GAAAC,EAAAF,EAAAG,UAAA,aAAAC,EAAAJ,EAAAK,eAAA,kBAAAC,EAAAN,EAAAO,aAAA,yBAAAC,EAAAV,EAAApB,EAAA/I,GAAA,OAAAlE,OAAAC,eAAAoO,EAAApB,EAAA,CAAA/I,QAAA8K,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAAb,EAAApB,GAAA,IAAA8B,EAAA,aAAA5K,GAAA4K,EAAA,SAAAV,EAAApB,EAAA/I,GAAA,OAAAmK,EAAApB,GAAA/I,GAAA,SAAAiL,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,IAAAC,EAAAH,KAAAnB,qBAAAuB,EAAAJ,EAAAI,EAAAC,EAAA1P,OAAA2P,OAAAH,EAAAtB,WAAA0B,EAAA,IAAAC,EAAAN,GAAA,WAAAtP,EAAAyP,EAAA,WAAAxL,MAAA4L,EAAAV,EAAAE,EAAAM,KAAAF,EAAA,SAAAK,EAAAC,EAAA3B,EAAA4B,GAAA,WAAA3J,KAAA,SAAA2J,IAAAD,EAAAE,KAAA7B,EAAA4B,IAAA,MAAA9L,GAAA,OAAAmC,KAAA,QAAA2J,IAAA9L,IAAA6J,EAAAmB,OAAA,IAAAgB,EAAA,YAAAV,KAAA,SAAAW,KAAA,SAAAC,KAAA,IAAAC,EAAA,GAAAvB,EAAAuB,EAAA7B,EAAA,kBAAA8B,OAAA,IAAAC,EAAAxQ,OAAAyQ,eAAAC,EAAAF,OAAAG,EAAA,MAAAD,OAAAzC,GAAAE,EAAA+B,KAAAQ,EAAAjC,KAAA6B,EAAAI,GAAA,IAAAE,EAAAP,EAAAnC,UAAAuB,EAAAvB,UAAAlO,OAAA2P,OAAAW,GAAA,SAAAO,EAAA3C,GAAA,0BAAA4C,QAAA,SAAAC,GAAAhC,EAAAb,EAAA6C,EAAA,SAAAd,GAAA,OAAAM,KAAAS,QAAAD,EAAAd,OAAA,SAAAgB,EAAAvB,EAAAwB,GAAA,IAAAC,EAAAlR,EAAAsQ,KAAA,WAAArM,MAAA,SAAA6M,EAAAd,GAAA,SAAAmB,IAAA,WAAAF,EAAA,SAAAG,EAAAC,IAAA,SAAAC,EAAAR,EAAAd,EAAAoB,EAAAC,GAAA,IAAAE,EAAAzB,EAAAL,EAAAqB,GAAArB,EAAAO,GAAA,aAAAuB,EAAAlL,KAAA,KAAA9D,EAAAgP,EAAAvB,IAAA/L,EAAA1B,EAAA0B,MAAA,OAAAA,GAAA,iBAAAA,GAAAiK,EAAA+B,KAAAhM,EAAA,WAAAgN,EAAAG,QAAAnN,EAAAuN,SAAAC,KAAA,SAAAxN,GAAAqN,EAAA,OAAArN,EAAAmN,EAAAC,IAAA,SAAAnN,GAAAoN,EAAA,QAAApN,EAAAkN,EAAAC,KAAAJ,EAAAG,QAAAnN,GAAAwN,KAAA,SAAAC,GAAAnP,EAAA0B,MAAAyN,EAAAN,EAAA7O,IAAA,SAAAoP,GAAA,OAAAL,EAAA,QAAAK,EAAAP,EAAAC,OAAAE,EAAAvB,KAAAsB,CAAAR,EAAAd,EAAAoB,EAAAC,KAAA,OAAAH,MAAAO,KAAAN,YAAA,SAAAtB,EAAAV,EAAAE,EAAAM,GAAA,IAAAnO,EAAA,iCAAAsP,EAAAd,GAAA,iBAAAxO,EAAA,UAAAoQ,MAAA,iDAAApQ,EAAA,cAAAsP,EAAA,MAAAd,EAAA,OAAA6B,IAAA,IAAAlC,EAAAmB,SAAAnB,EAAAK,QAAA,KAAA8B,EAAAnC,EAAAmC,SAAA,GAAAA,EAAA,KAAAC,EAAAC,EAAAF,EAAAnC,GAAA,GAAAoC,EAAA,IAAAA,IAAA7B,EAAA,gBAAA6B,GAAA,YAAApC,EAAAmB,OAAAnB,EAAAsC,KAAAtC,EAAAuC,MAAAvC,EAAAK,SAAA,aAAAL,EAAAmB,OAAA,uBAAAtP,EAAA,MAAAA,EAAA,YAAAmO,EAAAK,IAAAL,EAAAwC,kBAAAxC,EAAAK,SAAA,WAAAL,EAAAmB,QAAAnB,EAAAyC,OAAA,SAAAzC,EAAAK,KAAAxO,EAAA,gBAAA+P,EAAAzB,EAAAX,EAAAE,EAAAM,GAAA,cAAA4B,EAAAlL,KAAA,IAAA7E,EAAAmO,EAAA3L,KAAA,6BAAAuN,EAAAvB,MAAAE,EAAA,gBAAAjM,MAAAsN,EAAAvB,IAAAhM,KAAA2L,EAAA3L,MAAA,UAAAuN,EAAAlL,OAAA7E,EAAA,YAAAmO,EAAAmB,OAAA,QAAAnB,EAAAK,IAAAuB,EAAAvB,OAAA,SAAAgC,EAAAF,EAAAnC,GAAA,IAAAmB,EAAAgB,EAAArD,SAAAkB,EAAAmB,QAAA,QAAAzP,IAAAyP,EAAA,IAAAnB,EAAAmC,SAAA,eAAAnC,EAAAmB,OAAA,IAAAgB,EAAArD,SAAA4D,SAAA1C,EAAAmB,OAAA,SAAAnB,EAAAK,SAAA3O,EAAA2Q,EAAAF,EAAAnC,GAAA,UAAAA,EAAAmB,QAAA,OAAAZ,EAAAP,EAAAmB,OAAA,QAAAnB,EAAAK,IAAA,IAAAsC,UAAA,yDAAApC,EAAA,IAAAqB,EAAAzB,EAAAgB,EAAAgB,EAAArD,SAAAkB,EAAAK,KAAA,aAAAuB,EAAAlL,KAAA,OAAAsJ,EAAAmB,OAAA,QAAAnB,EAAAK,IAAAuB,EAAAvB,IAAAL,EAAAmC,SAAA,KAAA5B,EAAA,IAAAqC,EAAAhB,EAAAvB,IAAA,OAAAuC,IAAAvO,MAAA2L,EAAAmC,EAAAU,YAAAD,EAAAtO,MAAA0L,EAAA8C,KAAAX,EAAAY,QAAA,WAAA/C,EAAAmB,SAAAnB,EAAAmB,OAAA,OAAAnB,EAAAK,SAAA3O,GAAAsO,EAAAmC,SAAA,KAAA5B,GAAAqC,GAAA5C,EAAAmB,OAAA,QAAAnB,EAAAK,IAAA,IAAAsC,UAAA,oCAAA3C,EAAAmC,SAAA,KAAA5B,GAAA,SAAAyC,EAAAC,GAAA,IAAAC,EAAA,CAAAC,OAAAF,EAAA,SAAAA,IAAAC,EAAAE,SAAAH,EAAA,SAAAA,IAAAC,EAAAG,WAAAJ,EAAA,GAAAC,EAAAI,SAAAL,EAAA,IAAAtC,KAAA4C,WAAA/K,KAAA0K,GAAA,SAAAM,EAAAN,GAAA,IAAAtB,EAAAsB,EAAAO,YAAA,GAAA7B,EAAAlL,KAAA,gBAAAkL,EAAAvB,IAAA6C,EAAAO,WAAA7B,EAAA,SAAA3B,EAAAN,GAAAgB,KAAA4C,WAAA,EAAAJ,OAAA,SAAAxD,EAAAuB,QAAA8B,EAAArC,WAAA+C,OAAA,YAAA3C,EAAA4C,GAAA,GAAAA,EAAA,KAAAC,EAAAD,EAAA9E,GAAA,GAAA+E,EAAA,OAAAA,EAAAtD,KAAAqD,GAAA,sBAAAA,EAAAb,KAAA,OAAAa,EAAA,IAAAE,MAAAF,EAAAhO,QAAA,KAAAZ,GAAA,EAAA+N,EAAA,SAAAA,IAAA,OAAA/N,EAAA4O,EAAAhO,QAAA,GAAA4I,EAAA+B,KAAAqD,EAAA5O,GAAA,OAAA+N,EAAAxO,MAAAqP,EAAA5O,GAAA+N,EAAAzO,MAAA,EAAAyO,EAAA,OAAAA,EAAAxO,WAAA5C,EAAAoR,EAAAzO,MAAA,EAAAyO,GAAA,OAAAA,UAAA,OAAAA,KAAAZ,GAAA,SAAAA,IAAA,OAAA5N,WAAA5C,EAAA2C,MAAA,UAAAmM,EAAAlC,UAAAmC,EAAApQ,EAAA2Q,EAAA,eAAA1M,MAAAmM,EAAApB,cAAA,IAAAhP,EAAAoQ,EAAA,eAAAnM,MAAAkM,EAAAnB,cAAA,IAAAmB,EAAAsD,YAAA3E,EAAAsB,EAAAxB,EAAA,qBAAAb,EAAA2F,oBAAA,SAAAC,GAAA,IAAAC,EAAA,mBAAAD,KAAAE,YAAA,QAAAD,QAAAzD,GAAA,uBAAAyD,EAAAH,aAAAG,EAAA7S,QAAAgN,EAAA+F,KAAA,SAAAH,GAAA,OAAA5T,OAAAgU,eAAAhU,OAAAgU,eAAAJ,EAAAvD,IAAAuD,EAAAK,UAAA5D,EAAAtB,EAAA6E,EAAA/E,EAAA,sBAAA+E,EAAA1F,UAAAlO,OAAA2P,OAAAiB,GAAAgD,GAAA5F,EAAAkG,MAAA,SAAAjE,GAAA,OAAAwB,QAAAxB,IAAAY,EAAAI,EAAA/C,WAAAa,EAAAkC,EAAA/C,UAAAS,EAAA,kBAAA4B,OAAAvC,EAAAiD,gBAAAjD,EAAAmG,MAAA,SAAA/E,EAAAC,EAAAC,EAAAC,EAAA2B,QAAA,IAAAA,MAAAkD,SAAA,IAAAC,EAAA,IAAApD,EAAA9B,EAAAC,EAAAC,EAAAC,EAAAC,GAAA2B,GAAA,OAAAlD,EAAA2F,oBAAAtE,GAAAgF,IAAA3B,OAAAhB,KAAA,SAAAlP,GAAA,OAAAA,EAAAyB,KAAAzB,EAAA0B,MAAAmQ,EAAA3B,UAAA7B,EAAAD,GAAA7B,EAAA6B,EAAA/B,EAAA,aAAAE,EAAA6B,EAAAnC,EAAA,kBAAA8B,OAAAxB,EAAA6B,EAAA,mDAAA5C,EAAAsG,KAAA,SAAAC,GAAA,IAAAC,EAAAxU,OAAAuU,GAAAD,EAAA,WAAArH,KAAAuH,EAAAF,EAAAlM,KAAA6E,GAAA,OAAAqH,EAAAG,UAAA,SAAA/B,IAAA,KAAA4B,EAAA/O,QAAA,KAAA0H,EAAAqH,EAAA7L,MAAA,GAAAwE,KAAAuH,EAAA,OAAA9B,EAAAxO,MAAA+I,EAAAyF,EAAAzO,MAAA,EAAAyO,EAAA,OAAAA,EAAAzO,MAAA,EAAAyO,IAAA1E,EAAA2C,SAAAd,EAAA3B,UAAA,CAAA4F,YAAAjE,EAAAyD,MAAA,SAAAoB,GAAA,GAAAnE,KAAAnD,KAAA,EAAAmD,KAAAmC,KAAA,EAAAnC,KAAA2B,KAAA3B,KAAA4B,WAAA7Q,EAAAiP,KAAAtM,MAAA,EAAAsM,KAAAwB,SAAA,KAAAxB,KAAAQ,OAAA,OAAAR,KAAAN,SAAA3O,EAAAiP,KAAA4C,WAAArC,QAAAsC,IAAAsB,EAAA,QAAA1T,KAAAuP,KAAA,MAAAvP,EAAA2T,OAAA,IAAAxG,EAAA+B,KAAAK,KAAAvP,KAAAyS,OAAAzS,EAAA4T,MAAA,MAAArE,KAAAvP,QAAAM,IAAAuT,KAAA,WAAAtE,KAAAtM,MAAA,MAAA6Q,EAAAvE,KAAA4C,WAAA,GAAAE,WAAA,aAAAyB,EAAAxO,KAAA,MAAAwO,EAAA7E,IAAA,OAAAM,KAAAwE,MAAA3C,kBAAA,SAAA4C,GAAA,GAAAzE,KAAAtM,KAAA,MAAA+Q,EAAA,IAAApF,EAAAW,KAAA,SAAA0E,EAAAC,EAAAC,GAAA,OAAA3D,EAAAlL,KAAA,QAAAkL,EAAAvB,IAAA+E,EAAApF,EAAA8C,KAAAwC,EAAAC,IAAAvF,EAAAmB,OAAA,OAAAnB,EAAAK,SAAA3O,KAAA6T,EAAA,QAAAxQ,EAAA4L,KAAA4C,WAAA5N,OAAA,EAAAZ,GAAA,IAAAA,EAAA,KAAAmO,EAAAvC,KAAA4C,WAAAxO,GAAA6M,EAAAsB,EAAAO,WAAA,YAAAP,EAAAC,OAAA,OAAAkC,EAAA,UAAAnC,EAAAC,QAAAxC,KAAAnD,KAAA,KAAAgI,EAAAjH,EAAA+B,KAAA4C,EAAA,YAAAuC,EAAAlH,EAAA+B,KAAA4C,EAAA,iBAAAsC,GAAAC,EAAA,IAAA9E,KAAAnD,KAAA0F,EAAAE,SAAA,OAAAiC,EAAAnC,EAAAE,UAAA,MAAAzC,KAAAnD,KAAA0F,EAAAG,WAAA,OAAAgC,EAAAnC,EAAAG,iBAAA,GAAAmC,GAAA,GAAA7E,KAAAnD,KAAA0F,EAAAE,SAAA,OAAAiC,EAAAnC,EAAAE,UAAA,YAAAqC,EAAA,UAAAxD,MAAA,6CAAAtB,KAAAnD,KAAA0F,EAAAG,WAAA,OAAAgC,EAAAnC,EAAAG,gBAAAZ,OAAA,SAAA/L,EAAA2J,GAAA,QAAAtL,EAAA4L,KAAA4C,WAAA5N,OAAA,EAAAZ,GAAA,IAAAA,EAAA,KAAAmO,EAAAvC,KAAA4C,WAAAxO,GAAA,GAAAmO,EAAAC,QAAAxC,KAAAnD,MAAAe,EAAA+B,KAAA4C,EAAA,eAAAvC,KAAAnD,KAAA0F,EAAAG,WAAA,KAAAqC,EAAAxC,EAAA,OAAAwC,IAAA,UAAAhP,GAAA,aAAAA,IAAAgP,EAAAvC,QAAA9C,MAAAqF,EAAArC,aAAAqC,EAAA,UAAA9D,EAAA8D,IAAAjC,WAAA,UAAA7B,EAAAlL,OAAAkL,EAAAvB,MAAAqF,GAAA/E,KAAAQ,OAAA,OAAAR,KAAAmC,KAAA4C,EAAArC,WAAA9C,GAAAI,KAAAgF,SAAA/D,IAAA+D,SAAA,SAAA/D,EAAA0B,GAAA,aAAA1B,EAAAlL,KAAA,MAAAkL,EAAAvB,IAAA,gBAAAuB,EAAAlL,MAAA,aAAAkL,EAAAlL,KAAAiK,KAAAmC,KAAAlB,EAAAvB,IAAA,WAAAuB,EAAAlL,MAAAiK,KAAAwE,KAAAxE,KAAAN,IAAAuB,EAAAvB,IAAAM,KAAAQ,OAAA,SAAAR,KAAAmC,KAAA,kBAAAlB,EAAAlL,MAAA4M,IAAA3C,KAAAmC,KAAAQ,GAAA/C,GAAAqF,OAAA,SAAAvC,GAAA,QAAAtO,EAAA4L,KAAA4C,WAAA5N,OAAA,EAAAZ,GAAA,IAAAA,EAAA,KAAAmO,EAAAvC,KAAA4C,WAAAxO,GAAA,GAAAmO,EAAAG,eAAA,OAAA1C,KAAAgF,SAAAzC,EAAAO,WAAAP,EAAAI,UAAAE,EAAAN,GAAA3C,IAAAsF,MAAA,SAAA1C,GAAA,QAAApO,EAAA4L,KAAA4C,WAAA5N,OAAA,EAAAZ,GAAA,IAAAA,EAAA,KAAAmO,EAAAvC,KAAA4C,WAAAxO,GAAA,GAAAmO,EAAAC,WAAA,KAAAvB,EAAAsB,EAAAO,WAAA,aAAA7B,EAAAlL,KAAA,KAAAoP,EAAAlE,EAAAvB,IAAAmD,EAAAN,GAAA,OAAA4C,GAAA,UAAA7D,MAAA,0BAAA8D,cAAA,SAAApC,EAAAd,EAAAE,GAAA,OAAApC,KAAAwB,SAAA,CAAArD,SAAAiC,EAAA4C,GAAAd,aAAAE,WAAA,SAAApC,KAAAQ,SAAAR,KAAAN,SAAA3O,GAAA6O,IAAAnC,EA8BA,IAAI4H,GAAc,KAGZC,GAAQ,WACZ,sBAAA3M,EAAAlJ,OAAA8V,GAAA,EAAA9V,CAAA+N,KAAAgG,KAAO,SAAAgC,EAAOhM,GAAQ,OAAAgE,KAAAoB,KAAA,SAAA6G,GAAA,cAAAA,EAAA5I,KAAA4I,EAAAtD,MAAA,OACpB3I,EAAS/H,KACT4T,GAAcjI,WAAW,WACvB5D,EAAS9H,MRfW,KQgBP,wBAAA+T,EAAAnB,SAAAkB,MAChB,gBAAAE,GAAA,OAAA/M,EAAAb,MAAAkI,KAAA1I,YALD,IAQK,SAASqO,GAAKpM,GACnB,IAAM3I,EAAS+I,YAAY,SAAAzI,GAAK,OAAIA,EAAMmK,KAAKzK,SACzC0K,EAAW3B,YAAY,SAAAzI,GAAK,OAAIA,EAAMmK,KAAKxK,OAC3CF,EAAQgJ,YAAY,SAAAzI,GAAK,OAAIA,EAAMmK,KAAK1K,QACxCsB,EAAS0H,YAAY,SAAAzI,GAAK,OAAIA,EAAMmK,KAAKpJ,SACzCsJ,EAAe5B,YAAY,SAAAzI,GAAK,OAAIA,EAAMmK,KAAKvK,WAE/C4I,EAAgBC,YAAY,SAAAzI,GAAK,OAAIA,EAAMb,UAAU+I,OAErDI,EAAWC,cAGXmM,EAAa/L,mBACbgM,EAAUhM,mBACViM,EAAYjM,mBA8DlB,OA5DAU,oBAAU,WAER,OAAO,WACD8K,IAAalI,aAAakI,MAE/B,IAEH9K,oBAAU,WAGR,OAFAuL,EAAU3L,QAAQC,UAAW,EAEtB,WACDiL,IAAalI,aAAakI,MAE/B,CAACzU,IAEJ2J,oBAAU,WAEJe,IAAa1M,EAEb4K,EADE+B,IAAiB9M,EACV6W,KAEAzT,KAEFyJ,IAAaxM,EACtBgX,EAAU3L,QAAQC,UAAW,EACpBkB,IAAavM,IACtB+W,EAAU3L,QAAQC,UAAW,GAI3BkB,IAAazM,GACfwB,EAAUC,IAAI2J,SAAS,CAAC9I,OAAQ,CAAC+I,UAAWjK,KAE5C6I,IAA0B,EAAMvJ,EAASoB,KAChC2K,IAAaxM,EACtBiK,KACSuC,IAAa9M,GAAW8M,IAAavM,GAC9C+J,IAA0B,IAG3B,CAACwC,IAGJf,oBAAU,WACR,GAAIb,EAAc3D,OAAS/F,EACzB+V,SACK,GAAIrM,EAAc3D,OAASlG,EAChCmW,SACK,GAAItM,EAAc3D,OAAShG,EAC5BuL,IAAaxM,EACfmX,IAEA5V,EAAUC,IAAI2J,SAAS,CAAC9I,OAAQ,CAAC+I,UAAWhK,UAEzC,GAAIwJ,EAAc3D,OAAS5F,EAAa,CAC7C,IAAMoE,EAAMiH,OAAO9B,EAActI,UAC7BmD,GAAO,GAAKA,EAAMhF,EAASoB,KAAQ+I,EAAcO,SAAS,CAAC9I,OAAQ,CAAC+I,UAAW9J,OAEpF,CAACsJ,IAGFgB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAACsL,GAAO,MACRxL,EAAAC,EAAAC,cAACuL,GAAK,MACNzL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAAA,UAAQtK,IAAKsV,EAAY/K,UAAU,4BAA4BC,QA2BrE,WACEtB,EAASH,GAAoBrJ,IAC7B+V,MA7BmG,wCAC/FrL,EAAAC,EAAAC,cAAA,UAAQtK,IAAKuV,EAAShL,UAAU,4BAA4BC,QAqBlE,WACEtB,EAASH,GAAoBxJ,IAC7BmW,MAvB6F,4BACzFtL,EAAAC,EAAAC,cAAA,UAAQtK,IAAKwV,EAAWjL,UAAU,4BAA4BC,QA8BpE,WACEtB,EAASH,GAAoBtJ,IAC7BkW,MAhCiG,0CAKnG,SAASD,IACP3V,EAAUC,IAAI2J,SAAS,CAAE9I,OAAQ,CAAE+I,UAAWrK,KAC9C0J,EAAMc,kBAGR,SAAS0L,IACP1V,EAAUC,IAAI2J,SAAS,CAAE9I,OAAQ,CAAE+I,UAAWlK,KAC9CwJ,EAASjI,KAGX,SAAS0U,IACP5V,EAAUC,IAAI2J,SAAS,CAAC9I,OAAQ,CAAC+I,UAAWnK,EAAaqB,QAASiB,GAAoBJ,EAAQtB,MAC9F6I,EAASzH,oBCrIPqU,GAAsB,SAACC,GAW3B,OAAOC,aAAgB,CAAED,cA+BZE,OA5Bf,WACE,IAAM/M,EAAWC,cAAcuB,EACSC,oBAAS,GAAKC,EAAAzL,OAAAmI,EAAA,EAAAnI,CAAAuL,EAAA,GAA/CwL,EAAYtL,EAAA,GAAEuL,EAAevL,EAAA,GAepC,OAbAX,oBAAU,WAERtB,KAGA5I,EAAUC,IAAM8V,GAAoB,iBAAM,eAE1C/V,EAAUC,IAAIoW,GAAG,OAAQ,SAAA/N,GAAc,IAAZxH,EAAMwH,EAANxH,OACrBA,GAAQqI,EAASH,GAAoBlI,OAE1C,IAGCqV,EACK9L,EAAAC,EAAAC,cAAC+L,GAAI,CAACtM,gBAAiBA,IAEvBK,EAAAC,EAAAC,cAACgM,GAAI,CAACvM,gBAAiBA,IAGhC,SAASA,IACPoM,EAAgB,SAAAvV,GAAK,OAAKA,MCrCf2V,GAPDC,YAAe,CAC3BC,QAAS,CACP1L,KAAM2L,EACN3W,UAAW4W,MCATC,GAAOlP,SAASmP,eAAe,QACrCC,IAASC,OACP3M,EAAAC,EAAAC,cAAC0M,EAAA,EAAQ,CAACT,MAAOA,IACfnM,EAAAC,EAAAC,cAAC2M,GAAG,OAENL","file":"static/js/main.33225cbd.chunk.js","sourcesContent":["// Sber token\nexport const token = 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZTFmNTQxODM0NzEwNjkyNzAzM2QwYTQ0ODFmMTNkNTJiMTA1N2NhMWNkY2I0OTg0ZGNiMWQxZjQzMzdhMzYyNTM5YmU5MjcwMDQyNjI5OCIsImF1ZCI6IlZQUyIsImV4cCI6MTY3MTExOTUxNCwiaWF0IjoxNjcxMDMzMTA0LCJpc3MiOiJLRVlNQVNURVIiLCJ0eXBlIjoiQmVhcmVyIiwianRpIjoiNTk5YjU2NDEtZGNhYi00MTRlLTlkYjktMDc1NTRmMGE5MjA5Iiwic2lkIjoiMmMyYjYyMTYtMzkyNC00OTYyLTllZDYtNTk5ZmM5YTFiZDY5In0.Af6fwC0CorDSlutAfQ6Y52IOY-wgRApluej7hnMn7a5e21vtnbzh9aoub8i6KBDKzUwyAaRGCuK3PWOu_NeIhs7TPdne0uCkQPoRnB_rGGCYDKIx8WCWegKTX7_9ICY6if9YrACUT5r1U4Oymeft7qWJ39R8HJFHNGbESKfZbfyIILgatfdgnxvYj4gHmghKksMy2GtU-g2dSPzBeh808T7famDsO8WJLv0dtQ5wmDMmDAgeq6Pla7cbMW9XWiBw-Du9n6Rj0tyVK2WC-IbKWzycf1A4iZi_lD4g-_eJ2yuDC1EM5QywI7v2OKChtY2MNaVATpLCkgdRqGWBlyvQdJp0m3VN2qkPJEQhEufqzYpND5SL78MznVaLcm3StercyvPLfxoUSHlKl20bxSGubkjhipyryq7_179zU6NPQ7PftE4jJGCaSkbwCMluJTPbTZsxri47PUHfxPsfwFYzcNbW_uOcjvTIQJjDKccr9Xk6Hs0LCsu6NZ0fBSrlv04HfdAFM2eaUHzIFVp8tiGj1zb5lKqUbHbrk1mSlXf9OpXm0qV0zuK_5biZRFEzPJDfqFtJhF-uumeW7BGKbue_zeHUGaKvDDJRMqrGsE7SFVckuIZyXHd0JvBxiHXjwTE9SQhyUqcDUIUyCng1mRJRKC6N2c_qlr5xJx542apH_0I';\n\n// images folder path\nexport const PATH = process.env.PUBLIC_URL + \"/images/\";\n\n// game levels\nexport const EASY = 'easy';\nexport const MIDDLE = 'middle';\nexport const HARD = 'hard';\n\n// game working steps\nexport const LOADING = 'loading';\nexport const LOADED = 'loaded';\nexport const PAUSE = 'pause';\nexport const PAUSE_END = 'pause_end';\nexport const COUNTDOWN = 'countdown';\nexport const COUNTDOWN_END = 'countdown_end';\nexport const ACTIVITY = 'activity';\nexport const READY = 'ready';\nexport const FINISH = 'finish';\n\n// time constants for game steps\nexport const PAUSE_TIME = 3000;\nexport const COUNTDOWN_DELAY = 1100;\nexport const COUNTDOWN_NUM = 3;\n\n// items marked and unmarked statuses\nexport const UNMARKED = 'unmarked';\nexport const CORRECT = 'correct';\nexport const WRONG = 'wrong';\n\n// visibility\nexport const VISIBLE = 'visible';\nexport const INVISIBLE = 'invisible';\n\n// possible images count\nexport const GENERAL = 20;\n\n// length of items list depends on level\nexport const LIST_LEN = {\n  [EASY]: 12,\n  [MIDDLE]: 20,\n  [HARD]: 20\n}\n\n// similar images edges in images list\nexport const SIMILAR_IMG_START = 1;\nexport const SIMILAR_IMG_END = 10;\n\n// similar images count\nexport const SIMILAR_NUM = {\n  [EASY]: 0,\n  [MIDDLE]: 4,\n  [HARD]: 9,\n}\n\n// screen orientation\nexport const PORTRAIT = 'portrait-primary';\nexport const LANDSCAPE = 'landscape-primary';\n\n// client commands\nexport const SHOW_MENU = 'show-menu';\nexport const START_GAME = 'start-game';\nexport const FINISH_GAME = 'finish-game';\nexport const RESTART_GAME = 'restart-game';\nexport const PERMIT_CHOOSING = 'permit-choosing';\nexport const DENY_FINISHING = 'deny-finishing';\nexport const CHOOSE_ITEM = 'choose-item';\nexport const NO_ITEM = 'no-item'\n\n\n// variable for assistant object\nexport const assistant = {ref: null};","import {createSlice} from \"@reduxjs/toolkit\";\nimport {\n  LOADING,\n  PAUSE,\n  COUNTDOWN,\n  ACTIVITY,\n  FINISH,\n  CORRECT,\n  READY,\n  LOADED,\n  COUNTDOWN_END,\n  PAUSE_END\n} from \"../constants\";\n\nconst gameSlice = createSlice({\n  name: \"game\",\n\n  initialState: {\n    level: null,\n    gameId: null,\n    step: LOADING,\n\n    prevStep: undefined\n  },\n\n  reducers: {\n    startGame(state, action) {\n      state.level = action.payload;\n      state.gameId = Date.now();\n      state.step = LOADING;\n\n      state.prevStep = undefined;\n    },\n\n    restartGame(state) {\n      state.gameId = Date.now();\n      state.step = LOADING;\n\n      state.prevStep = undefined;\n    },\n\n    finishLoading(state) {\n      state.step = LOADED;\n    },\n\n    makePause(state) {\n      state.prevStep = state.step;\n      state.step = PAUSE;\n    },\n\n    finishPause(state) {\n      state.step = PAUSE_END;\n    },\n\n    makeCountdown(state) {\n      state.prevStep = state.step;\n      state.step = COUNTDOWN;\n    },\n\n    finishCountdown(state) {\n      state.step = COUNTDOWN_END;\n    },\n\n    startActivity(state) {\n      state.prevStep = state.step;\n      state.step = ACTIVITY;\n    },\n\n    setReady(state) {\n      state.step = READY;\n    },\n\n    finishGame(state) {\n      state.step = FINISH;\n    },\n\n    setInitResult(state, action) {\n      state.result = action.payload;\n    },\n\n    changeResult(state, action) {\n      if (action.payload === CORRECT) {\n        state.result += 1;\n      } else {\n        state.result -= 1;\n      }\n    },\n  }\n})\n\nexport default gameSlice.reducer;\nexport const {startGame, restartGame, finishLoading, makePause, finishPause, makeCountdown,finishCountdown, startActivity, setReady, finishGame, setInitResult, changeResult} = gameSlice.actions;","import {\n  EASY,\n  GENERAL,\n  LIST_LEN,\n  MIDDLE,\n  PORTRAIT,\n  SIMILAR_IMG_END,\n  SIMILAR_IMG_START,\n  SIMILAR_NUM\n} from \"./constants\";\n\nexport const getPercentageResult = function(result, level) {\n  const percentageResult = Math.round(result / LIST_LEN[level] * 100);\n\n  return percentageResult;\n}\n\nexport const random = function (start, end) {\n  return Math.floor(Math.random() * (end - start + 1)) + start;\n}\n\n\n\n/* creating items' list\n------------------------------------------------------*/\nexport const generateList = function(level) {\n  const listLength = LIST_LEN[level];\n  const sameNum = generateSameItemsNum(level);\n\n  const repeatedItem = random(SIMILAR_IMG_START, SIMILAR_IMG_END);\n\n  const list = new Array(listLength).fill(null);\n  const sameIndexes = randomSeveral(0, listLength - 1, sameNum);\n\n  for (let ind of sameIndexes) {\n    list[ind] = repeatedItem;\n  }\n\n  const similarIndexes = randomSeveral(0, listLength - sameNum - 1, SIMILAR_NUM[level]);\n\n  let similarInd = 0;\n  let similarItem = repeatedItem;\n  let otherItem = SIMILAR_IMG_END + 1;\n  for (let i = 0; i < listLength; i++) {\n    if (!list[i]) {\n      if (similarIndexes.includes(similarInd)) {\n        similarItem += 1;\n        if (similarItem > SIMILAR_IMG_END) similarItem = 1;\n\n        list[i] = similarItem;\n      } else {\n        list[i] = otherItem;\n\n        otherItem += 1;\n        if (otherItem > GENERAL) otherItem = SIMILAR_IMG_END + 1;\n      }\n\n      similarInd++;\n    }\n  }\n  return {\n    list,\n    repeatedItem,\n    repeatedItemNum: sameNum\n  }\n}\n\nconst randomSeveral = function (start, end, num) {\n  let i = 0;\n  const result = new Set();\n  while (i < num) {\n    const generatedNum = random(start, end);\n    if (!result.has(generatedNum)) {\n      result.add(generatedNum);\n      i++;\n    }\n  }\n  return Array.from(result);\n}\n\n// generate same images number\nconst generateSameItemsNum = function(level) {\n  if (level === EASY) {\n    return random(3, 5)\n  } else if (level === MIDDLE) {\n    return random(6, 7)\n  } else {\n    return random(5, 6)\n  }\n}\n\nexport const getDifferentElemsNumOfTwoArrays = function (arr1, arr2) {\n  if (!arr1.length) return arr2.length;\n  else if (!arr2.length) return arr1.length;\n  else {\n    const len = Math.min(arr1.length, arr2.length);\n    let notSameElemsNum = Math.max(arr1.length, arr2.length) - len;\n\n    for (let i = 0; i < len; i++) {\n      if (arr1[i] !== arr2[i]) notSameElemsNum++;\n    }\n\n    return notSameElemsNum;\n  }\n}\n\n\n/* managing by remote controller\n------------------------------------------------------*/\n\nconst remoteControllerDecorator = function() {\n  let screenOrientation = window.screen.orientation.type;\n\n  let btnList = [];\n  let enabledBtnList = [];\n  let currentElem = -1;\n  let currentElemAmongEnabled = -1;\n  let disabledFocusedElem = null;\n\n  let boardBtnNum = 0;\n  let rows = undefined;\n  let cols = undefined;\n\n\n  const orientationChangeHandler = function() {\n    window.screen.orientation.onchange = () => {\n      const currentScreenOrientation = window.screen.orientation.type;\n      if (rows && currentScreenOrientation !== screenOrientation) {\n        [rows, cols] = [cols, rows];\n      }\n    }\n  }\n\n\n  const setRemoteControllerConfig = function(lastIsDisabled = false, boardItemsNum = 0) {\n    if (currentElem >= 0 && btnList[currentElem]) {\n      btnList[currentElem].blur();\n    }\n\n    disabledFocusedElem = null;\n    btnList = [];\n    if (boardItemsNum) {\n      [rows, cols] = considerRowsColsCount(boardItemsNum, screenOrientation);\n\n      btnList.push(...document.querySelectorAll('.img-btn'));\n    }\n\n    boardBtnNum = boardItemsNum;\n    btnList.push(...document.querySelectorAll('.managing-btn'));\n\n    currentElem = -1;\n    currentElemAmongEnabled = -1;\n\n    enabledBtnList = new Array(btnList.length).fill(0);\n    if (lastIsDisabled) enabledBtnList.pop();\n    enabledBtnList = enabledBtnList.map((_, index) => index);\n\n    document.addEventListener('keydown', moveHandler);\n  }\n\n  const addLastBtnInEnabledBtnList = function() {\n    enabledBtnList.push(btnList.length - 1);\n  }\n\n  const checkBoardBtn = function(btnInd) {\n    if (currentElem >= 0 && btnList[currentElem].focused) btnList[currentElem].blur();\n    if (btnList[disabledFocusedElem]) removeFocusFromDisabledBtn();\n\n    currentElem = btnInd;\n    currentElemAmongEnabled = enabledBtnList.indexOf(btnInd);\n\n    disabledFocusedElem = btnInd;\n    btnList[disabledFocusedElem].classList.add('disabled-focus');\n  }\n\n  const moveHandler = function(event) {\n\n    if (currentElem === -1) {\n      currentElem = 0;\n      currentElemAmongEnabled = 0;\n    } else {\n      switch (event.code) {\n        case 'ArrowDown':\n          getNextVerticalElem(1);\n          break;\n        case 'ArrowUp':\n          getNextVerticalElem(-1);\n          break;\n        case 'ArrowLeft':\n          getNextHorizonElem(-1);\n          break;\n        case 'ArrowRight':\n          getNextHorizonElem(1);\n          break;\n        default:\n          break;\n      }\n    }\n\n    if (!btnList[disabledFocusedElem]) btnList[currentElem].focus();\n  }\n\n  function removeFocusFromDisabledBtn() {\n    btnList[disabledFocusedElem].classList.remove('disabled-focus');\n    enabledBtnList.splice(enabledBtnList.indexOf(disabledFocusedElem), 1);\n\n    currentElemAmongEnabled = enabledBtnList.indexOf(currentElem);\n\n    disabledFocusedElem = null;\n  }\n\n  const getNextHorizonElem = function(direction) {\n    let nextElemAmongEnabled = currentElemAmongEnabled + direction;\n\n    if (nextElemAmongEnabled < 0) {\n      return;\n    } else if (nextElemAmongEnabled >= enabledBtnList.length) {\n      nextElemAmongEnabled = 0;\n    }\n\n    currentElemAmongEnabled = nextElemAmongEnabled;\n    currentElem = enabledBtnList[currentElemAmongEnabled];\n\n    if (btnList[disabledFocusedElem]) removeFocusFromDisabledBtn();\n  }\n\n  const getNextVerticalElem = function(direction) {\n    if (!boardBtnNum) {\n      getNextHorizonElem(direction);\n      return;\n    } else if (currentElem >= boardBtnNum) {\n      getNextHorizonElem(direction);\n      return;\n    }\n\n    let nextElem = currentElem;\n\n    do {\n      nextElem += cols * direction;\n    } while ((nextElem >= 0 && nextElem < boardBtnNum) && !enabledBtnList.includes(nextElem))\n\n    if (nextElem >= boardBtnNum) {\n      currentElem = boardBtnNum;\n      currentElemAmongEnabled = enabledBtnList.indexOf(currentElem);\n    } else if (nextElem >= 0 && nextElem !== currentElem) {\n      currentElem = nextElem;\n      currentElemAmongEnabled = enabledBtnList.indexOf(currentElem);\n    }\n\n    if (btnList[disabledFocusedElem]) removeFocusFromDisabledBtn();\n  }\n\n  return [setRemoteControllerConfig, addLastBtnInEnabledBtnList, checkBoardBtn, orientationChangeHandler];\n}\n\n\nconst considerRowsColsCount = function (itemsNum, screenOrientation) {\n  let cols = 0;\n  let rows = 0\n\n  if (itemsNum === LIST_LEN[EASY]) {\n    cols = 4;\n    rows = 3;\n  } else {\n    cols = 5;\n    rows = 4;\n  }\n\n  if (screenOrientation === PORTRAIT) {\n    [rows, cols] = [cols, rows];\n  }\n\n  return [rows, cols];\n}\n\nexport const [setRemoteControllerConfig, addLastBtnInEnabledBtnList, checkBoardBtn, orientationChangeHandler] = remoteControllerDecorator();","import {createSlice} from \"@reduxjs/toolkit\";\n\nconst assistantSlice = createSlice({\n  name: 'assistant',\n  initialState: {\n    clientAssistant: null,\n    data: {\n      type: 'init',\n      payload: null\n    }\n  },\n  reducers: {\n    changeAssistantData(state, action) {\n      state.data = action.payload;\n    }\n  }\n})\n\nexport default assistantSlice.reducer;\nexport const {changeAssistantData} = assistantSlice.actions;","import './Menu.css';\nimport React, {useEffect, useRef} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {startGame} from \"../../store/gameSlice\";\nimport {assistant, EASY, MIDDLE, HARD, START_GAME} from \"../../constants\";\nimport {setRemoteControllerConfig} from \"../../functions\";\nimport {changeAssistantData} from \"../../store/assistantSlice\";\n\nexport function Menu(props) {\n  const dispatch = useDispatch();\n\n  const assistantData = useSelector(state => state.assistant.data);\n\n  const btnEasy = useRef();\n  const btnMiddle = useRef();\n  const btnHard = useRef();\n\n  useEffect(() => {\n    // set remote controller actions\n    setRemoteControllerConfig();\n  }, [])\n\n  useEffect(() => {\n    if (assistantData.type === START_GAME) {\n      console.log('start-game in menu')\n      startGameHandler(assistantData.payload);\n    }\n  }, [assistantData])\n\n  function startGameHandler(level) {\n    assistant.ref.sendData({ action: { action_id: START_GAME}});\n    btnEasy.current.disabled = btnMiddle.current.disabled = btnHard.current.disabled = true;\n    props.changeAppScreen();\n    dispatch(startGame(level));\n  }\n\n  function startGameBtnClickHandler(level) {\n    dispatch(changeAssistantData(START_GAME));\n    startGameHandler(level);\n  }\n\n  return (\n    <div className=\"menu\">\n      <button ref={btnEasy} className=\"btn menu-btn managing-btn\" onClick={() => startGameBtnClickHandler(EASY)}>Легкий уровень</button>\n      <button ref={btnMiddle} className=\"btn menu-btn managing-btn\" onClick={() => startGameBtnClickHandler(MIDDLE)}>Средний уровень</button>\n      <button ref={btnHard} className=\"btn menu-btn managing-btn\" onClick={() => startGameBtnClickHandler(HARD)}>Сложный уровень</button>\n    </div>\n  )\n}","import \"./Item.css\";\nimport React, {useEffect, useState} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {\n  ACTIVITY,\n  UNMARKED,\n  CORRECT,\n  WRONG,\n  LOADING,\n  PATH,\n  READY, LOADED, COUNTDOWN, CHOOSE_ITEM, assistant, NO_ITEM, FINISH\n} from \"../../constants\";\nimport {changeResult, setReady} from \"../../store/gameSlice\";\nimport {checkBoardBtn} from \"../../functions\";\n\nexport function Item(props) {\n  const [itemMark, setItemMark] = useState(UNMARKED);\n\n  const level = useSelector(state => state.game.level);\n  const gameStep = useSelector(state => state.game.step);\n  const prevGameStep = useSelector(state => state.game.prevStep);\n\n  const assistantData = useSelector(state => state.assistant.data);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    setItemMark(UNMARKED);\n  }, [props])\n\n  useEffect(() => {\n    if (itemMark !== UNMARKED) {\n      dispatch(changeResult(itemMark));\n      if (gameStep === ACTIVITY) {\n        dispatch((setReady()));\n      }\n    }\n  }, [itemMark])\n\n  useEffect(() => {\n    if (assistantData.type === CHOOSE_ITEM) {\n      const num = Number(assistantData.payload);\n      if (num === props.imgInd) {\n        if (itemMark === UNMARKED) {\n          itemChoosingHandler();\n        }\n        else {\n          assistant.ref.sendData({action: {action_id: NO_ITEM}});\n        }\n      }\n    }\n  }, [assistantData])\n\n  return (\n    <div className={'item level-' + level + ' ' + itemMark}>\n      {(gameStep === LOADING || gameStep === LOADED || (gameStep === COUNTDOWN && prevGameStep === LOADED)) && <div className={'img-wrapper'}/>}\n\n      {(gameStep === FINISH && itemMark !== UNMARKED) && <div className={'img-wrapper finish-step ' + itemMark}/>}\n\n      {\n        (gameStep === ACTIVITY || gameStep === READY) &&\n        <button\n          disabled={(itemMark !== UNMARKED)}\n          className={'btn img-btn'}\n          onClick={itemChoosingHandler}\n        >\n          {props.imgInd}\n        </button>\n      }\n\n      {(!props.imgName) ? null : <object\n        tabIndex={-1}\n        type=\"image/svg+xml\"\n        data={PATH + props.imgName + \".svg\"}\n        className=\"img\"\n        onLoad={props.imageIsLoaded}\n      >\n        smile svg image\n      </object>}\n\n    </div>\n  )\n\n  function itemChoosingHandler() {\n    assistant.ref.sendData({action: {action_id: CHOOSE_ITEM}});\n\n    if (props.isRepeated) {\n      setItemMark(CORRECT);\n    } else {\n      setItemMark(WRONG);\n    }\n\n    checkBoardBtn(props.imgInd - 1);\n  }\n}\n","import \"./Board.css\";\nimport React, {useEffect, useRef, useState} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {LIST_LEN} from \"../../constants\";\nimport {generateList, getDifferentElemsNumOfTwoArrays} from \"../../functions\";\nimport {Item} from \"../item/Item\";\nimport {finishLoading, setInitResult} from \"../../store/gameSlice\";\n\nexport function Board() {\n  const level = useSelector(state => state.game.level);\n  const gameId = useSelector(state => state.game.gameId);\n\n  const [itemsList, setItemsList] = useState(new Array(LIST_LEN[level]).fill(null));\n  const [unloadedItemsNum, setUnloadedItemsNum] = useState(-1);\n\n  const list = useRef([]);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const listObj = generateList(level);\n\n    setUnloadedItemsNum(getDifferentElemsNumOfTwoArrays(list.current, listObj.list));\n    list.current = listObj.list;\n\n    setItemsList(listObj.list.map((item, index) => {\n      return (\n        <Item\n          key={index}\n          imgName={item}\n          imgInd={index + 1}\n          isRepeated={item === listObj.repeatedItem}\n          imageIsLoaded={decreaseUnloadedImagesNum}\n        />\n      )\n    }))\n\n    // initialize game result\n    dispatch(setInitResult(LIST_LEN[level] - listObj.repeatedItemNum));\n\n  }, [gameId])\n\n  useEffect(() => {\n    if (!unloadedItemsNum) {\n      dispatch(finishLoading());\n    }\n  }, [unloadedItemsNum])\n\n\n  return (\n    <div className={`board level-${level}`}>\n      {itemsList}\n      </div>\n  )\n\n  function decreaseUnloadedImagesNum() {\n    setUnloadedItemsNum(prev => prev - 1);\n  }\n}","import './Wrapper.css';\nimport React, {useEffect, useState} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {\n  COUNTDOWN, COUNTDOWN_DELAY,\n  COUNTDOWN_END,\n  COUNTDOWN_NUM,\n  FINISH,\n  INVISIBLE,\n  LOADED,\n  LOADING, PAUSE_END,\n  VISIBLE\n} from \"../../constants\";\nimport {finishCountdown, makeCountdown} from \"../../store/gameSlice\";\nimport {getPercentageResult} from \"../../functions\";\n\n// id for setTimeout\nlet wrapperTimerId = null;\n\nexport function Wrapper() {\n  const {level, step: gameStep, result, gameId} = useSelector(state => state.game);\n  const dispatch = useDispatch();\n\n  const [countdownStep, setCountdownStep] = useState(-1);\n\n  useEffect(() => {\n    return () => {\n      if (wrapperTimerId) clearTimeout(wrapperTimerId);\n      setCountdownStep(-1);\n    }\n  }, [gameId])\n\n  useEffect(() => {\n    if (gameStep === LOADED || gameStep === PAUSE_END) {\n      dispatch(makeCountdown());\n      setCountdownStep(COUNTDOWN_NUM);\n    }\n  }, [gameStep])\n\n  useEffect(() => {\n    if (countdownStep > 0) {\n      makeTimerTik();\n    } else if (countdownStep === 0) {\n      dispatch(finishCountdown());\n    }\n  }, [countdownStep])\n\n  return (\n    <div className={'wrapper ' + getVisibilityStatus()}>\n      <div className='content'>{generateContent()}</div>\n    </div>\n  )\n\n  function getVisibilityStatus() {\n    if ([LOADING, LOADED, COUNTDOWN, COUNTDOWN_END, FINISH].includes(gameStep)) {\n      return VISIBLE;\n    } else {\n      return INVISIBLE;\n    }\n  }\n\n  function generateContent() {\n    if (gameStep === LOADING || gameStep === LOADED) {\n      return <iframe title='spinner' src={process.env.PUBLIC_URL + '/spinner.html'}></iframe>\n    } else if (gameStep === COUNTDOWN || gameStep === COUNTDOWN_END) {\n      return <span className='countdown'>{(countdownStep === -1) ? 3 : countdownStep}</span>;\n    } else if (gameStep === FINISH) {\n      return <>\n        <span className='result-label'>Результат</span>\n        <span className='result'>{`${getPercentageResult(result, level)}%`}</span>\n      </>\n    } else {\n      return null;\n    }\n  }\n\n  function makeTimerTik() {\n    wrapperTimerId = setTimeout(() => {\n      setCountdownStep(prev => prev - 1);\n    }, COUNTDOWN_DELAY);\n  }\n}","import './Game.css'\nimport React, {useEffect, useRef} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {Board} from \"../board/Board\";\nimport {\n  restartGame,\n  finishGame,\n  makePause,\n  startActivity,\n  finishPause\n} from \"../../store/gameSlice\";\nimport {Wrapper} from \"../wrapper/Wrapper\";\nimport {\n  PAUSE_TIME,\n  READY,\n  LOADED,\n  COUNTDOWN_END,\n  FINISH,\n  ACTIVITY,\n  LIST_LEN,\n  LOADING,\n  RESTART_GAME,\n  SHOW_MENU,\n  FINISH_GAME,\n  assistant,\n  PERMIT_CHOOSING, DENY_FINISHING, CHOOSE_ITEM, NO_ITEM\n} from \"../../constants\";\nimport {addLastBtnInEnabledBtnList, getPercentageResult, setRemoteControllerConfig} from \"../../functions\";\nimport {changeAssistantData} from \"../../store/assistantSlice\";\n\n// id for setTimeout in game\nlet gameTimerId = null;\n\n// pause to memorize before countdown\nconst pause = () => {\n  return async (dispatch) => {\n    dispatch(makePause());\n    gameTimerId = setTimeout(() => {\n      dispatch(finishPause());\n    }, PAUSE_TIME);\n  }\n}\n\nexport function Game(props) {\n  const gameId = useSelector(state => state.game.gameId);\n  const gameStep = useSelector(state => state.game.step);\n  const level = useSelector(state => state.game.level);\n  const result = useSelector(state => state.game.result);\n  const prevGameStep = useSelector(state => state.game.prevStep);\n\n  const assistantData = useSelector(state => state.assistant.data);\n\n  const dispatch = useDispatch();\n\n  // refs for buttons\n  const restartBtn = useRef();\n  const menuBtn = useRef();\n  const resultBtn = useRef();\n\n  useEffect(() => {\n    // stop timeout actions\n    return () => {\n      if (gameTimerId) clearTimeout(gameTimerId);\n    }\n  }, [])\n\n  useEffect(() => {\n    resultBtn.current.disabled = true;\n\n    return () => {\n      if (gameTimerId) clearTimeout(gameTimerId);\n    }\n  }, [gameId])\n\n  useEffect(() => {\n    // retrieve next gameStep\n    if (gameStep === COUNTDOWN_END) {\n      if (prevGameStep === LOADED) {\n        dispatch(pause());\n      } else {\n        dispatch(startActivity());\n      }\n    } else if (gameStep === READY) {\n      resultBtn.current.disabled = false;\n    } else if (gameStep === FINISH) {\n      resultBtn.current.disabled = true;\n    }\n\n    // set remote controller configs for managing\n    if (gameStep === ACTIVITY) {\n      assistant.ref.sendData({action: {action_id: PERMIT_CHOOSING}})\n\n      setRemoteControllerConfig(true, LIST_LEN[level]);\n    } else if (gameStep === READY) {\n      addLastBtnInEnabledBtnList();\n    } else if (gameStep === LOADING || gameStep === FINISH) {\n      setRemoteControllerConfig(true);\n    }\n\n  }, [gameStep])\n\n\n  useEffect(() => {\n    if (assistantData.type === RESTART_GAME) {\n      restartHandler();\n    } else if (assistantData.type === SHOW_MENU) {\n      menuHandler();\n    } else if (assistantData.type === FINISH_GAME) {\n      if (gameStep === READY) {\n        resultHandler();\n      } else {\n        assistant.ref.sendData({action: {action_id: DENY_FINISHING}});\n      }\n    } else if (assistantData.type === CHOOSE_ITEM) {\n      const num = Number(assistantData.payload);\n      if (num <= 0 || num > LIST_LEN[level]) assistantData.sendData({action: {action_id: NO_ITEM}});\n    }\n  }, [assistantData])\n\n  return (\n    <div className=\"game\">\n      <Wrapper/>\n      <Board/>\n      <div className=\"bottom-interface\">\n        <button ref={restartBtn} className=\"btn game-btn managing-btn\" onClick={restartBtnClickHandler}>Заново</button>\n        <button ref={menuBtn} className=\"btn game-btn managing-btn\" onClick={menuBtnClickHandler}>Меню</button>\n        <button ref={resultBtn} className=\"btn game-btn managing-btn\" onClick={resultBtnClickHandler}>Готово</button>\n      </div>\n    </div>\n  )\n\n  function menuHandler() {\n    assistant.ref.sendData({ action: { action_id: SHOW_MENU}});\n    props.changeAppScreen();\n  }\n\n  function restartHandler() {\n    assistant.ref.sendData({ action: { action_id: RESTART_GAME}});\n    dispatch(restartGame());\n  }\n\n  function resultHandler() {\n    assistant.ref.sendData({action: {action_id: FINISH_GAME, payload: getPercentageResult(result, level)}});\n    dispatch(finishGame());\n  }\n\n  function menuBtnClickHandler() {\n    dispatch(changeAssistantData(SHOW_MENU));\n    menuHandler();\n  }\n\n  function restartBtnClickHandler() {\n    dispatch(changeAssistantData(RESTART_GAME));\n    restartHandler();\n  }\n\n  function resultBtnClickHandler() {\n    dispatch(changeAssistantData(FINISH_GAME));\n    resultHandler();\n  }\n}","import React, {useEffect, useState} from \"react\";\nimport {Menu} from \"./components/menu/Menu\";\nimport {Game} from \"./components/game/Game\";\nimport {orientationChangeHandler} from \"./functions\";\n\nimport { createAssistant, createSmartappDebugger } from '@salutejs/client';\nimport {assistant, token} from \"./constants\";\nimport {useDispatch} from \"react-redux\";\nimport {changeAssistantData} from \"./store/assistantSlice\";\n\nconst initializeAssistant = (getState) => {\n  // for development\n  if (process.env.NODE_ENV === 'development') {\n    return createSmartappDebugger({\n      token: token,\n      initPhrase: 'Запусти тренажер памяти',\n      getState,\n    });\n  }\n\n  // for production\n  return createAssistant({ getState });\n}\n\nfunction App() {\n  const dispatch = useDispatch();\n  const [isMenuScreen, setIsMenuScreen] = useState(true);\n\n  useEffect(() => {\n    // add screen orientation change event listener\n    orientationChangeHandler();\n\n    // hook up client\n    assistant.ref = initializeAssistant(() => 'initialize');\n\n    assistant.ref.on('data', ({action}) => {\n      if (action) dispatch(changeAssistantData(action));\n    });\n  }, [])\n\n\n  if (isMenuScreen) {\n    return <Menu changeAppScreen={changeAppScreen}/>\n  } else {\n    return <Game changeAppScreen={changeAppScreen}/>\n  }\n\n  function changeAppScreen() {\n    setIsMenuScreen(state => !state);\n  }\n}\n\nexport default App\n","import {configureStore} from \"@reduxjs/toolkit\";\nimport gameReducer from \"./gameSlice\";\nimport assistantReducer from \"./assistantSlice\"\n\nconst store = configureStore({\n  reducer: {\n    game: gameReducer,\n    assistant: assistantReducer\n  }\n})\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport store from \"./store\";\nimport {Provider} from \"react-redux\";\n\n\nconst root = document.getElementById('root');\nReactDOM.render(\n  <Provider store={store}>\n    <App/>\n  </Provider>,\n  root\n);\n\n"],"sourceRoot":""}